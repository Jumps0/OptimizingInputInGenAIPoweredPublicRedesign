{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[users,setUsers]=useState([]);const[posts,setPosts]=useState([]);const[serverInfo,setServerInfo]=useState(null);const[newUserName,setNewUserName]=useState('');const[newUserEmail,setNewUserEmail]=useState('');const[loading,setLoading]=useState(false);// Fetch data from backend\nuseEffect(()=>{fetchData();},[]);const fetchData=async()=>{try{setLoading(true);const[usersRes,postsRes,infoRes]=await Promise.all([axios.get('/api/users'),axios.get('/api/posts'),axios.get('/api/server-info')]);setUsers(usersRes.data);setPosts(postsRes.data);setServerInfo(infoRes.data);}catch(error){console.error('Error fetching data:',error);}finally{setLoading(false);}};const addUser=async e=>{e.preventDefault();if(!newUserName||!newUserEmail)return;try{const response=await axios.post('/api/users',{name:newUserName,email:newUserEmail});setUsers([...users,response.data]);setNewUserName('');setNewUserEmail('');}catch(error){console.error('Error adding user:',error);}};// NEW: Remove user function\nconst removeUser=async userId=>{try{await axios.delete(\"/api/users/\".concat(userId));setUsers(users.filter(user=>user.id!==userId));}catch(error){console.error('Error removing user:',error);}};// NEW: Remove post function\nconst removePost=async postId=>{try{await axios.delete(\"/api/posts/\".concat(postId));setPosts(posts.filter(post=>post.id!==postId));}catch(error){console.error('Error removing post:',error);}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading...\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"app-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"React + Node.js Website\"}),serverInfo&&/*#__PURE__*/_jsxs(\"div\",{className:\"server-info\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Server: \",serverInfo.server,\" | Status: \",serverInfo.status]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Last updated: \",new Date(serverInfo.timestamp).toLocaleString()]})]})]}),/*#__PURE__*/_jsxs(\"main\",{className:\"main-content\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Add New User\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:addUser,className:\"user-form\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Name\",value:newUserName,onChange:e=>setNewUserName(e.target.value),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Email\",value:newUserEmail,onChange:e=>setNewUserEmail(e.target.value),required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Add User\"})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"section\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Users (\",users.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"cards-container\",children:users.map(user=>/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:user.name}),/*#__PURE__*/_jsx(\"p\",{children:user.email}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-actions\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"badge\",children:[\"ID: \",user.id]}),/*#__PURE__*/_jsx(\"button\",{className:\"remove-btn\",onClick:()=>removeUser(user.id),children:\"Remove\"})]})]},user.id))})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"section\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Latest Posts (\",posts.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"posts-container\",children:posts.map(post=>/*#__PURE__*/_jsxs(\"div\",{className:\"post-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:post.title}),/*#__PURE__*/_jsx(\"p\",{children:post.content}),/*#__PURE__*/_jsxs(\"div\",{className:\"post-actions\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"post-meta\",children:[\"By \",post.author]}),/*#__PURE__*/_jsx(\"button\",{className:\"remove-btn\",onClick:()=>removePost(post.id),children:\"Remove\"})]})]},post.id))})]})]}),/*#__PURE__*/_jsx(\"footer\",{className:\"app-footer\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Built with React.js and Node.js Express\"})})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","App","users","setUsers","posts","setPosts","serverInfo","setServerInfo","newUserName","setNewUserName","newUserEmail","setNewUserEmail","loading","setLoading","fetchData","usersRes","postsRes","infoRes","Promise","all","get","data","error","console","addUser","e","preventDefault","response","post","name","email","removeUser","userId","delete","concat","filter","user","id","removePost","postId","className","children","server","status","Date","timestamp","toLocaleString","onSubmit","type","placeholder","value","onChange","target","required","length","map","onClick","title","content","author"],"sources":["/var/www/reacttest/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport './App.css';\r\n\r\nfunction App() {\r\n  const [users, setUsers] = useState([]);\r\n  const [posts, setPosts] = useState([]);\r\n  const [serverInfo, setServerInfo] = useState(null);\r\n  const [newUserName, setNewUserName] = useState('');\r\n  const [newUserEmail, setNewUserEmail] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // Fetch data from backend\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  const fetchData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const [usersRes, postsRes, infoRes] = await Promise.all([\r\n        axios.get('/api/users'),\r\n        axios.get('/api/posts'),\r\n        axios.get('/api/server-info')\r\n      ]);\r\n      \r\n      setUsers(usersRes.data);\r\n      setPosts(postsRes.data);\r\n      setServerInfo(infoRes.data);\r\n    } catch (error) {\r\n      console.error('Error fetching data:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const addUser = async (e) => {\r\n    e.preventDefault();\r\n    if (!newUserName || !newUserEmail) return;\r\n\r\n    try {\r\n      const response = await axios.post('/api/users', {\r\n        name: newUserName,\r\n        email: newUserEmail\r\n      });\r\n      \r\n      setUsers([...users, response.data]);\r\n      setNewUserName('');\r\n      setNewUserEmail('');\r\n    } catch (error) {\r\n      console.error('Error adding user:', error);\r\n    }\r\n  };\r\n\r\n  // NEW: Remove user function\r\n  const removeUser = async (userId) => {\r\n    try {\r\n      await axios.delete(`/api/users/${userId}`);\r\n      setUsers(users.filter(user => user.id !== userId));\r\n    } catch (error) {\r\n      console.error('Error removing user:', error);\r\n    }\r\n  };\r\n\r\n  // NEW: Remove post function\r\n  const removePost = async (postId) => {\r\n    try {\r\n      await axios.delete(`/api/posts/${postId}`);\r\n      setPosts(posts.filter(post => post.id !== postId));\r\n    } catch (error) {\r\n      console.error('Error removing post:', error);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return <div className=\"loading\">Loading...</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <header className=\"app-header\">\r\n        <h1>React + Node.js Website</h1>\r\n        {serverInfo && (\r\n          <div className=\"server-info\">\r\n            <p>Server: {serverInfo.server} | Status: {serverInfo.status}</p>\r\n            <p>Last updated: {new Date(serverInfo.timestamp).toLocaleString()}</p>\r\n          </div>\r\n        )}\r\n      </header>\r\n\r\n      <main className=\"main-content\">\r\n        {/* Add User Form */}\r\n        <section className=\"section\">\r\n          <h2>Add New User</h2>\r\n          <form onSubmit={addUser} className=\"user-form\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Name\"\r\n              value={newUserName}\r\n              onChange={(e) => setNewUserName(e.target.value)}\r\n              required\r\n            />\r\n            <input\r\n              type=\"email\"\r\n              placeholder=\"Email\"\r\n              value={newUserEmail}\r\n              onChange={(e) => setNewUserEmail(e.target.value)}\r\n              required\r\n            />\r\n            <button type=\"submit\">Add User</button>\r\n          </form>\r\n        </section>\r\n\r\n        {/* Users List */}\r\n        <section className=\"section\">\r\n          <h2>Users ({users.length})</h2>\r\n          <div className=\"cards-container\">\r\n            {users.map(user => (\r\n              <div key={user.id} className=\"card\">\r\n                <h3>{user.name}</h3>\r\n                <p>{user.email}</p>\r\n                <div className=\"card-actions\">\r\n                  <span className=\"badge\">ID: {user.id}</span>\r\n                  <button \r\n                    className=\"remove-btn\"\r\n                    onClick={() => removeUser(user.id)}\r\n                  >\r\n                    Remove\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </section>\r\n\r\n        {/* Posts List */}\r\n        <section className=\"section\">\r\n          <h2>Latest Posts ({posts.length})</h2>\r\n          <div className=\"posts-container\">\r\n            {posts.map(post => (\r\n              <div key={post.id} className=\"post-card\">\r\n                <h3>{post.title}</h3>\r\n                <p>{post.content}</p>\r\n                <div className=\"post-actions\">\r\n                  <div className=\"post-meta\">By {post.author}</div>\r\n                  <button \r\n                    className=\"remove-btn\"\r\n                    onClick={() => removePost(post.id)}\r\n                  >\r\n                    Remove\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </section>\r\n      </main>\r\n\r\n      <footer className=\"app-footer\">\r\n        <p>Built with React.js and Node.js Express</p>\r\n      </footer>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}